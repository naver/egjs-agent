/*
Copyright (c) 2015 NAVER Corp.
name: @egjs/agent
license: MIT
author: NAVER Corp.
repository: git+https://github.com/naver/agent.git
version: 2.2.0
*/
!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):((e="undefined"!=typeof globalThis?globalThis:e||self).eg=e.eg||{},e.eg.agent=n())}(this,function(){"use strict";function d(e,n){for(var i=e.length,r=0;r<i;++r)if(n(e[r],r))return!0;return!1}function v(e,n){for(var i=e.length,r=0;r<i;++r)if(n(e[r],r))return e[r];return null}function o(e,n){try{return new RegExp(e,"g").exec(n)}catch(e){return null}}function n(){if("undefined"==typeof navigator||!navigator||!navigator.userAgentData)return!1;var e=navigator.userAgentData,n=e.brands||e.uaList;return!(!n||!n.length)}function m(e){return e.replace(/_/g,".")}function f(e,i){var r=null,t="-1";return d(e,function(e){var n=o("("+e.test+")((?:\\/|\\s|:)([0-9|\\.|_]+))?",i);return!(!n||e.brand)&&(r=e,t=n[3]||"-1",e.versionAlias?t=e.versionAlias:e.versionTest&&(t=function(e,n){var i=o("("+e+")((?:\\/|\\s|:)([0-9|\\.|_]+))?",n);return i?i[3]:""}(e.versionTest.toLowerCase(),i)||t),t=m(t),!0)}),{preset:r,version:t}}function w(e,i){return v(e,function(e){var n=e.brand;return o(""+i.test,n.toLowerCase())})}var c=[{test:"phantomjs",id:"phantomjs"},{test:"whale",id:"whale"},{test:"edgios|edge|edg",id:"edge"},{test:"msie|trident|windows phone",id:"ie",versionTest:"iemobile|msie|rv"},{test:"miuibrowser",id:"miui browser"},{test:"samsungbrowser",id:"samsung internet"},{test:"samsung",id:"samsung internet",versionTest:"version"},{test:"chrome|crios",id:"chrome"},{test:"firefox|fxios",id:"firefox"},{test:"android",id:"android browser",versionTest:"version"},{test:"safari|iphone|ipad|ipod",id:"safari",versionTest:"version"}],p=[{test:"(?=.*applewebkit/(53[0-7]|5[0-2]|[0-4]))(?=.*\\schrome)",id:"chrome"},{test:"chromium",id:"chrome"},{test:"whale",id:"chrome",brand:!0}],l=[{test:"applewebkit",id:"webkit"}],g=[{test:"(?=(iphone|ipad))(?!(.*version))",id:"webview"},{test:"(?=(android|iphone|ipad))(?=.*(naver|daum|; wv))",id:"webview"},{test:"webview",id:"webview"}],b=[{test:"windows phone",id:"windows phone"},{test:"windows 2000",id:"window",versionAlias:"5.0"},{test:"windows nt",id:"window"},{test:"iphone|ipad|ipod",id:"ios",versionTest:"iphone os|cpu os"},{test:"mac os x",id:"mac"},{test:"android",id:"android"},{test:"tizen",id:"tizen"},{test:"webos|web0s",id:"webos"}];function r(i){var e=navigator.userAgentData,r=(e.uaList||e.brands).slice(),n=e.mobile||!1,t=r[0],o={name:t.brand,version:t.version,majorVersion:-1,webkit:!1,webview:d(g,function(e){return w(r,e)}),chromium:d(p,function(e){return w(r,e)})},s={name:"unknown",version:"-1",majorVersion:-1};if(o.webkit=!o.chromium&&d(l,function(e){return w(r,e)}),i){var a=i.platform.toLowerCase(),u=v(b,function(e){return new RegExp(""+e.test,"g").exec(a)});s.name=u?u.id:a,s.version=i.platformVersion}return d(c,function(e){var n=w(r,e);return!!n&&(o.name=e.id,o.version=i?i.uaFullVersion:n.version,!0)}),"Linux armv8l"===navigator.platform?s.name="android":o.webkit&&(s.name=n?"ios":"mac"),"ios"===s.name&&o.webview&&(o.version="-1"),s.version=m(s.version),o.version=m(o.version),s.majorVersion=parseInt(s.version,10),o.majorVersion=parseInt(o.version,10),{browser:o,os:s,isMobile:n,isHints:!0}}function i(e){var n=function(e){var n=e;if(void 0===n){if("undefined"==typeof navigator||!navigator)return"";n=navigator.userAgent||""}return n.toLowerCase()}(e),i=!!/mobi/g.exec(n),r={name:"unknown",version:"-1",majorVersion:-1,webview:!!f(g,n).preset,chromium:!!f(p,n).preset,webkit:!1},t={name:"unknown",version:"-1",majorVersion:-1},o=f(c,n),s=o.preset,a=o.version,u=f(b,n),d=u.preset,v=u.version;return r.webkit=!r.chromium&&!!f(l,n).preset,d&&(t.name=d.id,t.version=v,t.majorVersion=parseInt(v,10)),s&&(r.name=s.id,r.version=a,r.webview&&"ios"===t.name&&"safari"!==r.name&&(r.webview=!1)),r.majorVersion=parseInt(r.version,10),{browser:r,os:t,isMobile:i,isHints:!1}}function e(e){return void 0===e&&n()?r():i(e)}var t={__proto__:null,getAccurateAgent:function(i){return n()?navigator.userAgentData.getHighEntropyValues(["architecture","model","platform","platformVersion","uaFullVersion"]).then(function(e){var n=r(e);return i&&i(n),n}):(i&&i(e()),"undefined"!=typeof Promise&&Promise?Promise.resolve(e()):null)},default:e};for(var s in t)e[s]=t[s];return e});
//# sourceMappingURL=agent.min.js.map
